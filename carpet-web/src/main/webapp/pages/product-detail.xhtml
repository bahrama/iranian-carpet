<ui:composition template="../WEB-INF/pages/main-temp.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="code"/>
            <f:viewParam name="name"/>
            <f:viewParam name="productType"/>
            <f:viewParam name="subProductType" />
        </f:metadata>
    </ui:define>

    <ui:define name="main-head">
        <title>#{productDetailPageManageBeanView.findProductByCode(code).title}</title>
        <style>
            .justify-blog{
                text-align: justify;
                border: 1px solid gainsboro;
                padding: 10px;
                box-shadow: 2px 5px 5px gainsboro;
            }
            .p-blog{
                overflow: auto;
            }
            .img-blog{
                max-width:100%;width: 100%;border-radius: 5px;
            }
            .mfp-iframe-holder{
                max-height: 900px!important;
                height: 100%!important;
            }
            .shrinkToFit{
                width: 100%!important;
            }
        </style>
    </ui:define>
    <ui:define name="main-body">
        <!-- Breadcrumb area Start -->
        <div class="breadcrumb-area bg-color" data-bg-color="#f6f6f6">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center flex-sm-row flex-column">
                            <ul class="breadcrumb">
                                <li>
                                    <h:link outcome="/pages/home.xhtml" styleClass="mainmenu__link">
                                        Home
                                    </h:link>
                                </li>
                                <li>
                                    <h:link outcome="/pages/product-list.xhtml" styleClass="mainmenu__link">
                                        #{productType}
                                        <f:param name="productType" value="#{productType}" />
                                        <f:param name="page" value="1" />
                                    </h:link>
                                </li>
                                <li>
                                    <h:link outcome="/pages/product-list.xhtml" styleClass="mainmenu__link">
                                        #{subProductType}
                                        <f:param name="productType" value="#{productType}" />
                                        <f:param name="subProductType" value="#{subProductType}" />
                                        <f:param name="page" value="1" />
                                    </h:link>
                                </li>
                                <li class="current"><span> #{productDetailPageManageBeanView.productDto.title}</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Breadcrumb area End -->
        <!-- Main Content Wrapper Start -->
        <div class="main-content-wrapper">
            <div class="page-content-inner ptb--80">
                <div class="container">
                    <div class="row no-gutters mb--80">
                        <div class="col-lg-7 product-main-image">
                            <div class="product-image">
                                <div class="product-gallery vertical-slide-nav">
                                    <div class="product-gallery__large-image mb-md--30">
                                        <div class="product-gallery__wrapper">
                                            <div class="zakas-element-carousel main-slider image-popup"
                                                 data-slick-options='{
                                                "slidesToShow": 1,
                                                "slidesToScroll": 1,
                                                "infinite": true,
                                                "arrows": false, 
                                                "asNavFor": ".nav-slider"
                                            }'>
                                                <figure class="product-gallery__image zoom" style="height: 400px;">
                                                    <h:graphicImage style="max-width:100%;"
                                                                    rendered="#{productDetailPageManageBeanView.productDto.pic1 ne null}"
                                                                    value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic1}.jpg"/>
                                                    <div class="product-gallery__actions">
                                                        <button class="action-btn btn-zoom-popup"><i class="fa fa-eye"></i></button>
                                                        <a href="https://www.youtube.com/watch?v=Rp19QD2XIGM" class="action-btn video-popup"><i class="fa fa-play"></i></a>
                                                    </div>
                                                </figure>
                                                <figure class="product-gallery__image zoom">
                                                    <h:graphicImage style="max-width:100%;"
                                                                    rendered="#{productDetailPageManageBeanView.productDto.pic2 ne null}"
                                                                    value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic2}.jpg"/>
                                                    <div class="product-gallery__actions">
                                                        <button class="action-btn btn-zoom-popup"><i class="fa fa-eye"></i></button>
                                                        <a href="https://www.youtube.com/watch?v=Rp19QD2XIGM" class="action-btn video-popup"><i class="fa fa-play"></i></a>
                                                    </div>
                                                </figure>
                                                <figure class="product-gallery__image zoom">
                                                    <h:graphicImage style="max-width:100%;"
                                                                    rendered="#{productDetailPageManageBeanView.productDto.pic3 ne null}"
                                                                    value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic3}.jpg"/>
                                                    <div class="product-gallery__actions">
                                                        <button class="action-btn btn-zoom-popup"><i class="fa fa-eye"></i></button>
                                                        <a href="https://www.youtube.com/watch?v=Rp19QD2XIGM" class="action-btn video-popup"><i class="fa fa-play"></i></a>
                                                    </div>
                                                </figure>
                                                <figure class="product-gallery__image zoom">
                                                    <h:graphicImage style="max-width:100%;"
                                                                    rendered="#{productDetailPageManageBeanView.productDto.pic4 ne null}"
                                                                    value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic4}.jpg"/>
                                                    <div class="product-gallery__actions">
                                                        <button class="action-btn btn-zoom-popup"><i class="fa fa-eye"></i></button>
                                                        <a href="https://www.youtube.com/watch?v=Rp19QD2XIGM" class="action-btn video-popup"><i class="fa fa-play"></i></a>
                                                    </div>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-gallery__nav-image">
                                        <div class="zakas-element-carousel nav-slider slick-vertical product-slide-nav"
                                             data-slick-options='{
                                            "spaceBetween": "30px",
                                            "slidesToShow": 3,
                                            "slidesToScroll": 1,
                                            "vertical": true,
                                            "swipe": true,
                                            "verticalSwiping": true,
                                            "infinite": true,
                                            "focusOnSelect": true,
                                            "asNavFor": ".main-slider",
                                            "arrows": true, 
                                            "prevArrow": {"buttonClass": "slick-btn slick-prev", "iconClass": "fa fa-angle-up" },
                                            "nextArrow": {"buttonClass": "slick-btn slick-next", "iconClass": "fa fa-angle-down" }
                                        }'
                                             data-slick-responsive='[
                                            {
                                                "breakpoint":767, 
                                                "settings": {
                                                    "slidesToShow": 4,
                                                    "vertical": false
                                                } 
                                            },
                                            {
                                                "breakpoint":575, 
                                                "settings": {
                                                    "slidesToShow": 3,
                                                    "vertical": false
                                                } 
                                            },
                                            {
                                                "breakpoint":480, 
                                                "settings": {
                                                    "slidesToShow": 2,
                                                    "vertical": false
                                                } 
                                            }
                                        ]'>
                                            <figure class="product-gallery__nav-image--single">
                                                <h:graphicImage style="max-width:100%;"
                                                                rendered="#{productDetailPageManageBeanView.productDto.pic1 ne null}"
                                                                value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic1}.jpg"/>
                                            </figure>
                                            <figure class="product-gallery__nav-image--single">
                                                <h:graphicImage style="max-width:100%;"
                                                                rendered="#{productDetailPageManageBeanView.productDto.pic2 ne null}"
                                                                value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic2}.jpg"/>
                                            </figure>
                                            <figure class="product-gallery__nav-image--single">
                                                <h:graphicImage style="max-width:100%;"
                                                                rendered="#{productDetailPageManageBeanView.productDto.pic3 ne null}"
                                                                value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic3}.jpg"/>
                                            </figure>
                                            <figure class="product-gallery__nav-image--single">
                                                <h:graphicImage style="max-width:100%;"
                                                                rendered="#{productDetailPageManageBeanView.productDto.pic4 ne null}"
                                                                value="http://localhost:8082/Images/#{productDetailPageManageBeanView.productDto.pic4}.jpg"/>
                                            </figure>
                                        </div>
                                    </div>
                                </div>
                                <span class="product-badge sale">Sale</span>
                            </div>
                        </div>
                        <div class="col-xl-4 offset-xl-1 col-lg-5 product-main-details mt-md--50">
                            <div class="product-summary pl-lg--30 pl-md--0">

                                <h1 class="product-title mb--20">#{productDetailPageManageBeanView.productDto.h1Title}</h1>
                                <p class="product-short-description mb--20">#{productDetailPageManageBeanView.productDto.title}</p>
                                <div class="product-price-wrapper mb--25">
                                    <span class="money">$#{productDetailPageManageBeanView.productDto.price}</span>
                                </div>
                                    <div class="product-size-variations d-flex align-items-center mb--15">
                                        <p class="variation-label">Size:</p>
                                        <div class="product-size-variation variation-wrapper">
                                            #{productDetailPageManageBeanView.productDto.size}
                                        </div>
                                    </div>
                                <div class="product-action d-flex flex-sm-row align-items-sm-center flex-column align-items-start mb--30">
                                    <div class="quantity-wrapper d-flex align-items-center mr--30 mr-xs--0 mb-xs--30">
                                        <label class="quantity-label" for="qty">Quantity:</label>
                                        <div class="quantity">
                                            <input type="number" class="quantity-input" name="qty" id="qty" value="1" min="1"/>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-small btn-bg-red btn-color-white btn-hover-2" onclick="window.location.href='cart.html'">
                                        Add To Cart
                                    </button>
                                </div>
                                <div class="product-footer-meta">
                                    <p><span>Category:</span>
                                        <a href="shop.html">#{productDetailPageManageBeanView.productDto.color}</a>,
                                        <a href="shop.html">#{productDetailPageManageBeanView.productDto.metric} meter</a>,
                                        <a href="shop.html">#{productDetailPageManageBeanView.productDto.subProductType}</a>,
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mb--80">
                        <div class="col-12">
                            <div class="product-data-tab tab-style-3">
                                <div class="nav nav-tabs product-data-tab__head mb--35 mb-sm--25" id="product-tab" role="tablist">
                                    <a class="product-data-tab__link nav-link active" id="nav-description-tab" data-toggle="tab" href="#nav-description" role="tab" aria-selected="true">
                                        <span>Description</span>
                                    </a>
                                    <a class="product-data-tab__link nav-link" id="nav-info-tab" data-toggle="tab" href="#nav-info" role="tab" aria-selected="true">
                                        <span>Additional Information</span>
                                    </a>
                                </div>
                                <div class="tab-content product-data-tab__content" id="product-tabContent">
                                    <div class="tab-pane fade show active" id="nav-description" role="tabpanel" aria-labelledby="nav-description-tab">
                                        <div class="product-description">
                                            <h:outputText value="#{productDetailPageManageBeanView.productDto.description}"
                                                          escape="false" />
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="nav-info" role="tabpanel" aria-labelledby="nav-info-tab">
                                        <div class="table-content table-responsive">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="zakas-element-carousel nav-vertical-center" data-slick-options='{
                                "spaceBetween": 30,
                                "slidesToShow": 4,
                                "slidesToScroll": 1,
                                "arrows": true,
                                "prevArrow": {"buttonClass": "slick-btn slick-prev", "iconClass": "fa fa-angle-double-left" },
                                "nextArrow": {"buttonClass": "slick-btn slick-next", "iconClass": "fa fa-angle-double-right" }
                            }'
                                 data-slick-responsive= '[
                                {"breakpoint":1199, "settings": {
                                    "slidesToShow": 3
                                }},
                                {"breakpoint":991, "settings": {
                                    "slidesToShow": 2
                                }},
                                {"breakpoint":575, "settings": {
                                    "slidesToShow": 1
                                }}
                            ]'>
                                <ui:repeat value="#{productDetailPageManageBeanView.findProductBySameCategory()}" var="product">
                                    <div class="item">
                                        <div class="zakas-product">
                                            <div class="product-inner">
                                                <figure class="product-image">
                                                    <h:link outcome="/pages/product-detail.xhtml">
                                                        <h:graphicImage
                                                                rendered="#{product.pic1 ne null}"
                                                                value="http://localhost:8082/Images/#{product.pic1}.jpg"/>
                                                        <f:param name="code" value="#{product.code}" />
                                                    </h:link>
                                                    <span class="product-badge">New</span>
                                                </figure>
                                                <div class="product-info">
                                                    <h3 class="product-title mb--15">
                                                        <h:link outcome="/pages/product-detail.xhtml">
                                                            #{product.name}
                                                            <f:param name="code" value="#{product.code}" />
                                                            <f:param name="name" value="#{productListPageManageBeanView.convertSpaceToDash(product.name)}" />
                                                        </h:link>
                                                    </h3>
                                                    <div class="product-price-wrapper mb--30">
                                                        <span class="money">$80</span>
                                                    </div>
                                                    <a href="cart.html" class="btn btn-small btn-bg-sand btn-color-dark">Order</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ui:repeat>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Main Content Wrapper End -->

        
    </ui:define>
</ui:composition>